class Solution {
public:
    vector<int> topKFrequent(vector<int>& nums, int k) {
        unordered_map<int,int> map;
        int i,n=nums.size();
        vector<int> ans;
        vector<pair<int,int>> frequent;
        for(i=0;i<n;i++) map[nums[i]]++;
        for(auto j:map){
            frequent.push_back({j.second,j.first}); //push the pairs of frequency with elements
        }
        sort(frequent.rbegin(),frequent.rend()); //reverse sort toget the most frequent element at the top
        for(auto j:frequent){
            if(k==0) break; //if k most frequent elements are pushed into the answer we break the loop
            ans.push_back(j.second); //j.second points to the most frequent element
            k--;
        }
        return ans;
    }
};
